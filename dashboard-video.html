<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Communication & Relationnel - Module 4 | FormaPro+ - Lecteur de formation</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-pink: #d4a5a5;
            --primary-blue: #a5c9d4;
            --light-pink: #f5e6e6;
            --light-blue: #e6f2f5;
            --soft-gray: #f8f9fa;
            --text-dark: #4a4a4a;
            --text-light: #8a8a8a;
            --white: #ffffff;
            --success: #28a745;
            --warning: #ffc107;
            --error: #dc3545;
            --info: #17a2b8;
            --gradient-pink: linear-gradient(135deg, #f5e6e6, #d4a5a5);
            --gradient-blue: linear-gradient(135deg, #e6f2f5, #a5c9d4);
            --gradient-contact: linear-gradient(135deg, #d4a5a5, #a5c9d4);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background: var(--white);
            overflow-x: hidden;
        }

        /* Layout */
        .learning-layout {
            display: grid;
            grid-template-columns: 350px 1fr;
            min-height: 100vh;
        }

        /* Sidebar Navigation */
        .course-sidebar {
            background: var(--soft-gray);
            border-right: 1px solid #e0e0e0;
            display: flex;
            flex-direction: column;
            position: fixed;
            width: 350px;
            height: 100vh;
            overflow-y: auto;
            z-index: 1000;
        }

        /* Sidebar Header */
        .sidebar-header {
            background: var(--gradient-contact);
            color: white;
            padding: 2rem 1.5rem;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .course-info {
            margin-bottom: 1.5rem;
        }

        .course-title {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            line-height: 1.3;
        }

        .course-subtitle {
            opacity: 0.9;
            font-size: 0.95rem;
        }

        .overall-progress {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 1rem;
        }

        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.8rem;
        }

        .progress-label {
            font-size: 0.9rem;
            font-weight: 500;
        }

        .progress-percentage {
            font-weight: 700;
            font-size: 1rem;
        }

        .progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: white;
            border-radius: 4px;
            width: 75%;
            transition: width 0.8s ease;
        }

        .progress-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 1rem;
            font-size: 0.85rem;
        }

        .stat-item {
            text-align: center;
        }

        .stat-value {
            font-weight: 600;
            display: block;
        }

        .stat-label {
            opacity: 0.8;
        }

        /* Module List */
        .module-list {
            flex: 1;
            padding: 1rem;
        }

        .module-section {
            margin-bottom: 2rem;
        }

        .section-title {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-light);
            text-transform: uppercase;
            letter-spacing: 0.05em;
            margin-bottom: 1rem;
            padding: 0 1rem;
        }

        .module-item {
            background: var(--white);
            border-radius: 12px;
            margin-bottom: 0.8rem;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
            overflow: hidden;
        }

        .module-item:hover {
            transform: translateX(5px);
            border-color: var(--primary-blue);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .module-item.active {
            border-color: var(--primary-pink);
            background: var(--light-pink);
            transform: translateX(8px);
        }

        .module-item.completed {
            background: #f8f9fa;
            border-color: var(--success);
        }

        .module-item.locked {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .module-content {
            padding: 1.2rem;
        }

        .module-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.8rem;
        }

        .module-icon {
            width: 40px;
            height: 40px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: white;
            flex-shrink: 0;
        }

        .module-item.active .module-icon {
            background: var(--gradient-pink);
        }

        .module-item.completed .module-icon {
            background: var(--success);
        }

        .module-item.locked .module-icon {
            background: var(--text-light);
        }

        .module-item:not(.active):not(.completed):not(.locked) .module-icon {
            background: var(--gradient-blue);
        }

        .module-title {
            font-weight: 600;
            color: var(--text-dark);
            font-size: 1rem;
            line-height: 1.3;
        }

        .module-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.85rem;
            color: var(--text-light);
        }

        .module-duration {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }

        .module-status {
            font-weight: 500;
        }

        .module-status.completed {
            color: var(--success);
        }

        .module-status.active {
            color: var(--primary-pink);
        }

        .module-status.locked {
            color: var(--text-light);
        }

        /* Main Content Area */
        .content-area {
            margin-left: 350px;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Top Navigation */
        .content-header {
            background: var(--white);
            border-bottom: 1px solid #e0e0e0;
            padding: 1.5rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 999;
        }

        .breadcrumb {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .breadcrumb a {
            color: var(--primary-blue);
            text-decoration: none;
            transition: color 0.3s;
        }

        .breadcrumb a:hover {
            color: var(--primary-pink);
        }

        .breadcrumb-current {
            font-weight: 500;
            color: var(--text-dark);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: var(--gradient-contact);
            color: white;
            box-shadow: 0 5px 15px rgba(212, 165, 165, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(212, 165, 165, 0.4);
        }

        .btn-secondary {
            background: var(--soft-gray);
            color: var(--text-dark);
        }

        .btn-secondary:hover {
            background: var(--light-blue);
        }

        .btn-outline {
            background: transparent;
            color: var(--primary-blue);
            border: 2px solid var(--primary-blue);
        }

        .btn-outline:hover {
            background: var(--primary-blue);
            color: white;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            padding: 2rem;
            max-width: 1000px;
            margin: 0 auto;
            width: 100%;
        }

        .module-header-main {
            text-align: center;
            margin-bottom: 3rem;
            padding: 2rem;
            background: var(--gradient-pink);
            border-radius: 20px;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .module-header-main::before {
            content: '';
            position: absolute;
            top: -30%;
            right: -20%;
            width: 40%;
            height: 160%;
            background: var(--gradient-blue);
            border-radius: 50%;
            opacity: 0.3;
            transform: rotate(-15deg);
        }

        .module-header-content {
            position: relative;
            z-index: 2;
        }

        .module-number {
            font-size: 1rem;
            opacity: 0.9;
            margin-bottom: 0.5rem;
        }

        .module-title-main {
            font-size: 2.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        .module-description {
            font-size: 1.1rem;
            opacity: 0.9;
            line-height: 1.6;
        }

        /* Video Player */
        .video-section {
            margin-bottom: 3rem;
        }

        .video-container {
            background: #000;
            border-radius: 15px;
            overflow: hidden;
            position: relative;
            aspect-ratio: 16/9;
            margin-bottom: 1.5rem;
        }

        .video-placeholder {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
            background: linear-gradient(45deg, #333, #555);
            cursor: pointer;
            transition: all 0.3s;
        }

        .video-placeholder:hover {
            background: linear-gradient(45deg, #444, #666);
        }

        .play-button {
            width: 80px;
            height: 80px;
            background: var(--gradient-contact);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            color: white;
            margin-bottom: 1rem;
            transition: all 0.3s;
        }

        .play-button:hover {
            transform: scale(1.1);
        }

        .video-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .video-info {
            display: flex;
            align-items: center;
            gap: 1rem;
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .video-progress {
            flex: 1;
            min-width: 200px;
        }

        .progress-time {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
            font-size: 0.85rem;
            color: var(--text-light);
        }

        .video-progress-bar {
            height: 6px;
            background: var(--soft-gray);
            border-radius: 3px;
            cursor: pointer;
            overflow: hidden;
        }

        .video-progress-fill {
            height: 100%;
            background: var(--gradient-contact);
            border-radius: 3px;
            width: 35%;
            transition: width 0.3s;
        }

        .video-actions {
            display: flex;
            gap: 0.8rem;
        }

        .control-btn {
            background: none;
            border: none;
            font-size: 1.2rem;
            color: var(--text-light);
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 8px;
            transition: all 0.3s;
        }

        .control-btn:hover {
            background: var(--soft-gray);
            color: var(--primary-blue);
        }

        /* Content Sections */
        .content-section {
            background: var(--white);
            border-radius: 15px;
            padding: 2.5rem;
            margin-bottom: 2rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.05);
            border: 1px solid #f0f0f0;
        }

        .section-title-main {
            font-size: 1.6rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .section-icon {
            width: 45px;
            height: 45px;
            background: var(--gradient-blue);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.3rem;
        }

        .content-text {
            font-size: 1.1rem;
            line-height: 1.8;
            color: var(--text-dark);
            margin-bottom: 2rem;
        }

        .content-text p {
            margin-bottom: 1.5rem;
        }

        .content-text h3 {
            color: var(--primary-pink);
            font-size: 1.3rem;
            margin: 2rem 0 1rem;
        }

        .content-text ul {
            margin-left: 2rem;
            margin-bottom: 1.5rem;
        }

        .content-text li {
            margin-bottom: 0.8rem;
        }

        .highlight-box {
            background: var(--light-blue);
            border-left: 4px solid var(--primary-blue);
            padding: 1.5rem;
            border-radius: 0 10px 10px 0;
            margin: 2rem 0;
        }

        .highlight-box h4 {
            color: var(--primary-blue);
            font-weight: 600;
            margin-bottom: 1rem;
        }

        /* Downloads Section */
        .downloads-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
        }

        .download-item {
            background: var(--soft-gray);
            border-radius: 12px;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .download-item:hover {
            background: var(--light-blue);
            border-color: var(--primary-blue);
            transform: translateY(-2px);
        }

        .download-icon {
            width: 50px;
            height: 50px;
            background: var(--gradient-contact);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            flex-shrink: 0;
        }

        .download-info {
            flex: 1;
        }

        .download-title {
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 0.3rem;
        }

        .download-meta {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        /* Quiz Section */
        .quiz-container {
            background: var(--soft-gray);
            border-radius: 15px;
            padding: 2.5rem;
            text-align: center;
        }

        .quiz-icon {
            width: 80px;
            height: 80px;
            background: var(--gradient-contact);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: white;
            margin: 0 auto 1.5rem;
        }

        .quiz-title {
            font-size: 1.5rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 1rem;
        }

        .quiz-description {
            color: var(--text-light);
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .quiz-stats {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .quiz-stat {
            text-align: center;
        }

        .quiz-stat-value {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--primary-blue);
            display: block;
        }

        .quiz-stat-label {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        /* Navigation Footer */
        .module-navigation {
            background: var(--white);
            border-top: 1px solid #e0e0e0;
            padding: 2rem;
            margin-top: 3rem;
        }

        .nav-container {
            max-width: 1000px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 2rem;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 1.2rem 2rem;
            background: var(--soft-gray);
            border-radius: 15px;
            text-decoration: none;
            color: var(--text-dark);
            transition: all 0.3s;
            flex: 1;
            max-width: 300px;
        }

        .nav-item:hover {
            background: var(--light-blue);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .nav-item.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            pointer-events: none;
        }

        .nav-prev {
            text-align: left;
        }

        .nav-next {
            text-align: right;
            margin-left: auto;
        }

        .nav-icon {
            font-size: 1.5rem;
            color: var(--primary-blue);
        }

        .nav-content {
            flex: 1;
        }

        .nav-label {
            font-size: 0.8rem;
            color: var(--text-light);
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .nav-title {
            font-weight: 600;
            font-size: 1rem;
            line-height: 1.3;
        }

        .nav-center {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        /* Completion Modal */
        .completion-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 10000;
        }

        .completion-modal.show {
            display: flex;
        }

        .modal-content {
            background: var(--white);
            border-radius: 25px;
            padding: 3rem;
            text-align: center;
            max-width: 500px;
            width: 90%;
            position: relative;
        }

        .modal-icon {
            width: 100px;
            height: 100px;
            background: var(--gradient-contact);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: white;
            margin: 0 auto 2rem;
            animation: bounce 0.8s ease;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-20px); }
            60% { transform: translateY(-10px); }
        }

        .modal-title {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 1rem;
        }

        .modal-description {
            color: var(--text-light);
            margin-bottom: 2rem;
            font-size: 1.1rem;
        }

        .modal-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .learning-layout {
                grid-template-columns: 1fr;
            }
            
            .course-sidebar {
                position: relative;
                width: 100%;
                height: auto;
                order: 2;
            }
            
            .content-area {
                margin-left: 0;
                order: 1;
            }
            
            .main-content {
                padding: 1.5rem;
            }
        }

        @media (max-width: 768px) {
            .header-actions {
                flex-direction: column;
                gap: 0.8rem;
            }
            
            .nav-container {
                flex-direction: column;
                gap: 1rem;
            }
            
            .nav-item {
                max-width: none;
            }
            
            .quiz-stats {
                gap: 1.5rem;
            }
            
            .downloads-grid {
                grid-template-columns: 1fr;
            }
            
            .video-controls {
                flex-direction: column;
                align-items: stretch;
            }
        }

        /* Animations */
        .fade-in {
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.6s ease forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .slide-in-left {
            opacity: 0;
            transform: translateX(-30px);
            animation: slideInLeft 0.6s ease forwards;
        }

        @keyframes slideInLeft {
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Progress Tracking */
        .reading-progress {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: rgba(212, 165, 165, 0.2);
            z-index: 10001;
        }

        .reading-progress-bar {
            height: 100%;
            background: var(--gradient-contact);
            width: 0%;
            transition: width 0.3s;
        }

        /* Mobile Sidebar Toggle */
        .sidebar-toggle {
            display: none;
            position: fixed;
            top: 1rem;
            left: 1rem;
            width: 50px;
            height: 50px;
            background: var(--gradient-contact);
            border: none;
            border-radius: 50%;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            z-index: 1001;
            box-shadow: 0 5px 15px rgba(212, 165, 165, 0.3);
        }

        @media (max-width: 1024px) {
            .sidebar-toggle {
                display: flex;
                align-items: center;
                justify-content: center;
            }
            
            .course-sidebar {
                transform: translateX(-100%);
                transition: transform 0.3s ease;
                position: fixed;
                height: 100vh;
                z-index: 1000;
            }
            
            .course-sidebar.open {
                transform: translateX(0);
            }
        }
    </style>
</head>
<body>
    <!-- Reading Progress -->
    <div class="reading-progress">
        <div class="reading-progress-bar" id="readingProgress"></div>
    </div>

    <!-- Mobile Sidebar Toggle -->
    <button class="sidebar-toggle" id="sidebarToggle">☰</button>

    <div class="learning-layout">
        <!-- Course Sidebar -->
        <aside class="course-sidebar" id="courseSidebar">
            <div class="sidebar-header">
                <div class="course-info">
                    <h1 class="course-title">Communication & Relationnel</h1>
                    <p class="course-subtitle">Formation essentielle pour les professionnels</p>
                </div>
                
                <div class="overall-progress">
                    <div class="progress-header">
                        <span class="progress-label">Progression globale</span>
                        <span class="progress-percentage">75%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill"></div>
                    </div>
                    <div class="progress-stats">
                        <div class="stat-item">
                            <span class="stat-value">4/5</span>
                            <span class="stat-label">Modules</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">2h15</span>
                            <span class="stat-label">Temps</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value">94%</span>
                            <span class="stat-label">Score</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="module-list">
                <div class="module-section">
                    <h3 class="section-title">Modules de formation</h3>
                    
                    <div class="module-item completed">
                        <div class="module-content">
                            <div class="module-header">
                                <div class="module-icon">✅</div>
                                <div class="module-title">Introduction à la communication</div>
                            </div>
                            <div class="module-meta">
                                <div class="module-duration">
                                    <span>⏱️</span>
                                    <span>15 min</span>
                                </div>
                                <div class="module-status completed">Terminé</div>
                            </div>
                        </div>
                    </div>

                    <div class="module-item completed">
                        <div class="module-content">
                            <div class="module-header">
                                <div class="module-icon">✅</div>
                                <div class="module-title">Bases de la communication bienveillante</div>
                            </div>
                            <div class="module-meta">
                                <div class="module-duration">
                                    <span>⏱️</span>
                                    <span>20 min</span>
                                </div>
                                <div class="module-status completed">Terminé</div>
                            </div>
                        </div>
                    </div>

                    <div class="module-item completed">
                        <div class="module-content">
                            <div class="module-header">
                                <div class="module-icon">✅</div>
                                <div class="module-title">Gestion des émotions</div>
                            </div>
                            <div class="module-meta">
                                <div class="module-duration">
                                    <span>⏱️</span>
                                    <span>25 min</span>
                                </div>
                                <div class="module-status completed">Terminé</div>
                            </div>
                        </div>
                    </div>

                    <div class="module-item active">
                        <div class="module-content">
                            <div class="module-header">
                                <div class="module-icon">▶️</div>
                                <div class="module-title">Communication avec les familles</div>
                            </div>
                            <div class="module-meta">
                                <div class="module-duration">
                                    <span>⏱️</span>
                                    <span>18 min</span>
                                </div>
                                <div class="module-status active">En cours</div>
                            </div>
                        </div>
                    </div>

                    <div class="module-item locked">
                        <div class="module-content">
                            <div class="module-header">
                                <div class="module-icon">🔒</div>
                                <div class="module-title">Respect de la dignité et autonomie</div>
                            </div>
                            <div class="module-meta">
                                <div class="module-duration">
                                    <span>⏱️</span>
                                    <span>22 min</span>
                                </div>
                                <div class="module-status locked">Verrouillé</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="module-section">
                    <h3 class="section-title">Évaluation finale</h3>
                    
                    <div class="module-item locked">
                        <div class="module-content">
                            <div class="module-header">
                                <div class="module-icon">🎯</div>
                                <div class="module-title">Quiz final</div>
                            </div>
                            <div class="module-meta">
                                <div class="module-duration">
                                    <span>⏱️</span>
                                    <span>15 min</span>
                                </div>
                                <div class="module-status locked">Verrouillé</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="content-area">
            <!-- Content Header -->
            <header class="content-header">
                <div class="breadcrumb">
                    <a href="dashboard-etudiant.html">🏠 Mon espace</a>
                    <span>›</span>
                    <a href="#">Communication & Relationnel</a>
                    <span>›</span>
                    <span class="breadcrumb-current">Module 4 - Communication avec les familles</span>
                </div>
                
                <div class="header-actions">
                    <button class="btn btn-secondary">📋 Notes</button>
                    <button class="btn btn-outline">🔖 Marquer</button>
                    <a href="dashboard-etudiant.html" class="btn btn-secondary">⬅️ Retour</a>
                </div>
            </header>

            <!-- Main Content -->
            <div class="main-content">
                <!-- Module Header -->
                <div class="module-header-main fade-in">
                    <div class="module-header-content">
                        <p class="module-number">Module 4 sur 5</p>
                        <h1 class="module-title-main">Communication avec les familles et l'équipe</h1>
                        <p class="module-description">
                            Apprenez à communiquer efficacement avec les familles des personnes accompagnées et à collaborer harmonieusement avec votre équipe professionnelle.
                        </p>
                    </div>
                </div>

                <!-- Video Section -->
                <section class="video-section fade-in">
                    <div class="video-container">
                        <div class="video-placeholder" id="videoPlayer">
                            <div>
                                <div class="play-button">▶️</div>
                                <div>Cliquez pour démarrer la vidéo</div>
                                <div style="font-size: 0.9rem; opacity: 0.7; margin-top: 0.5rem;">
                                    Communication professionnelle - 18 minutes
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="video-controls">
                        <div class="video-info">
                            <span>📹</span>
                            <span>Vidéo HD</span>
                            <span>•</span>
                            <span>18:24</span>
                        </div>
                        
                        <div class="video-progress">
                            <div class="progress-time">
                                <span>06:32</span>
                                <span>18:24</span>
                            </div>
                            <div class="video-progress-bar" id="videoProgressBar">
                                <div class="video-progress-fill"></div>
                            </div>
                        </div>
                        
                        <div class="video-actions">
                            <button class="control-btn" title="Rembobiner">⏪</button>
                            <button class="control-btn" title="Lecture/Pause" id="playPauseBtn">⏸️</button>
                            <button class="control-btn" title="Avancer">⏩</button>
                            <button class="control-btn" title="Plein écran">⛶</button>
                            <button class="control-btn" title="Sous-titres">📝</button>
                        </div>
                    </div>
                </section>

                <!-- Content Section -->
                <section class="content-section slide-in-left">
                    <h2 class="section-title-main">
                        <div class="section-icon">📖</div>
                        Contenu du module
                    </h2>
                    
                    <div class="content-text">
                        <p>La communication avec les familles et l'équipe constitue un pilier fondamental de votre pratique professionnelle. Cette compétence détermine la qualité de l'accompagnement et le bien-être de tous les acteurs impliqués.</p>
                        
                        <h3>🏠 Communication avec les familles</h3>
                        <p>La famille joue un rôle central dans la vie de la personne accompagnée. Votre capacité à établir une communication claire, respectueuse et bienveillante avec elle influence directement :</p>
                        
                        <ul>
                            <li><strong>La confiance accordée</strong> : Une communication transparente renforce la confiance mutuelle</li>
                            <li><strong>La continuité des soins</strong> : Les informations partagées assurent une prise en charge cohérente</li>
                            <li><strong>Le soutien émotionnel</strong> : Votre écoute apaise les inquiétudes familiales</li>
                            <li><strong>La collaboration</strong> : Une bonne communication facilite l'implication de la famille</li>
                        </ul>

                        <div class="highlight-box">
                            <h4>💡 Conseil pratique</h4>
                            <p>Toujours informer la famille des changements observés, même mineurs. Cette transparence évite les malentendus et renforce la relation de confiance.</p>
                        </div>

                        <h3>👥 Travail en équipe</h3>
                        <p>La collaboration avec vos collègues est essentielle pour :</p>
                        
                        <ul>
                            <li>Assurer la <strong>continuité de service</strong> lors des changements d'équipe</li>
                            <li>Partager les <strong>observations importantes</strong> sur l'état de la personne</li>
                            <li>Coordonner les <strong>interventions spécialisées</strong> (kinésithérapeute, infirmière, etc.)</li>
                            <li>Maintenir une <strong>approche cohérente</strong> dans l'accompagnement</li>
                        </ul>

                        <p>Une communication efficace en équipe passe par des transmissions claires, un respect mutuel et une écoute active de chacun.</p>
                    </div>
                </section>

                <!-- Downloads Section -->
                <section class="content-section fade-in">
                    <h2 class="section-title-main">
                        <div class="section-icon">📎</div>
                        Ressources téléchargeables
                    </h2>
                    
                    <div class="downloads-grid">
                        <div class="download-item">
                            <div class="download-icon">📄</div>
                            <div class="download-info">
                                <div class="download-title">Guide de communication famille</div>
                                <div class="download-meta">PDF • 2.3 Mo • 12 pages</div>
                            </div>
                        </div>
                        
                        <div class="download-item">
                            <div class="download-icon">📋</div>
                            <div class="download-info">
                                <div class="download-title">Modèles de transmissions</div>
                                <div class="download-meta">PDF • 1.8 Mo • 8 pages</div>
                            </div>
                        </div>
                        
                        <div class="download-item">
                            <div class="download-icon">🎯</div>
                            <div class="download-info">
                                <div class="download-title">Exercices pratiques</div>
                                <div class="download-meta">PDF • 1.2 Mo • 6 pages</div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Quiz Section -->
                <section class="content-section fade-in">
                    <h2 class="section-title-main">
                        <div class="section-icon">📝</div>
                        Évaluation du module
                    </h2>
                    
                    <div class="quiz-container">
                        <div class="quiz-icon">🎯</div>
                        <h3 class="quiz-title">Quiz de validation</h3>
                        <p class="quiz-description">
                            Testez vos connaissances sur la communication avec les familles et le travail en équipe.
                        </p>
                        
                        <div class="quiz-stats">
                            <div class="quiz-stat">
                                <span class="quiz-stat-value">15</span>
                                <span class="quiz-stat-label">Questions</span>
                            </div>
                            <div class="quiz-stat">
                                <span class="quiz-stat-value">10</span>
                                <span class="quiz-stat-label">Minutes</span>
                            </div>
                            <div class="quiz-stat">
                                <span class="quiz-stat-value">80%</span>
                                <span class="quiz-stat-label">Score requis</span>
                            </div>
                        </div>
                        
                        <button class="btn btn-primary" id="startQuizBtn">
                            🚀 Commencer le quiz
                        </button>
                    </div>
                </section>
            </div>

            <!-- Module Navigation -->
            <nav class="module-navigation">
                <div class="nav-container">
                    <a href="#" class="nav-item nav-prev">
                        <div class="nav-icon">⬅️</div>
                        <div class="nav-content">
                            <div class="nav-label">Module précédent</div>
                            <div class="nav-title">Gestion des émotions</div>
                        </div>
                    </a>
                    
                    <div class="nav-center">
                        <button class="btn btn-secondary">📋 Résumé</button>
                        <button class="btn btn-outline">🔖 Favoris</button>
                    </div>
                    
                    <a href="#" class="nav-item nav-next" id="nextModuleBtn">
                        <div class="nav-content">
                            <div class="nav-label">Module suivant</div>
                            <div class="nav-title">Respect de la dignité</div>
                        </div>
                        <div class="nav-icon">➡️</div>
                    </a>
                </div>
            </nav>
        </main>
    </div>

    <!-- Completion Modal -->
    <div class="completion-modal" id="completionModal">
        <div class="modal-content">
            <div class="modal-icon">🎉</div>
            <h2 class="modal-title">Module terminé !</h2>
            <p class="modal-description">
                Félicitations ! Vous avez terminé le module "Communication avec les familles et l'équipe" avec succès.
            </p>
            <div class="modal-actions">
                <button class="btn btn-primary" id="nextModuleModalBtn">
                    ➡️ Module suivant
                </button>
                <button class="btn btn-secondary" id="backToDashboardBtn">
                    🏠 Retour au tableau de bord
                </button>
            </div>
        </div>
    </div>

    <script>
        // État du lecteur
        let isVideoPlaying = false;
        let currentVideoTime = 392; // 6:32 en secondes
        let totalVideoTime = 1104; // 18:24 en secondes
        let moduleCompleted = false;

        // Éléments DOM
        const videoPlayer = document.getElementById('videoPlayer');
        const playPauseBtn = document.getElementById('playPauseBtn');
        const videoProgressBar = document.getElementById('videoProgressBar');
        const videoProgressFill = document.querySelector('.video-progress-fill');
        const readingProgress = document.getElementById('readingProgress');
        const sidebarToggle = document.getElementById('sidebarToggle');
        const courseSidebar = document.getElementById('courseSidebar');
        const completionModal = document.getElementById('completionModal');
        const startQuizBtn = document.getElementById('startQuizBtn');
        const nextModuleBtn = document.getElementById('nextModuleBtn');

        // Gestion du lecteur vidéo
        videoPlayer.addEventListener('click', toggleVideo);
        playPauseBtn.addEventListener('click', toggleVideo);

        function toggleVideo() {
            isVideoPlaying = !isVideoPlaying;
            
            if (isVideoPlaying) {
                videoPlayer.innerHTML = `
                    <div style="display: flex; align-items: center; justify-content: center; height: 100%; color: white;">
                        <div style="text-align: center;">
                            <div style="font-size: 4rem; margin-bottom: 1rem;">▶️</div>
                            <div>Lecture en cours...</div>
                            <div style="font-size: 0.9rem; opacity: 0.7; margin-top: 0.5rem;">
                                Communication professionnelle
                            </div>
                        </div>
                    </div>
                `;
                playPauseBtn.textContent = '⏸️';
                simulateVideoProgress();
                updateReadingProgress(25); // Video watched = 25% progress
            } else {
                videoPlayer.innerHTML = `
                    <div style="display: flex; align-items: center; justify-content: center; height: 100%; color: white; flex-direction: column;">
                        <div class="play-button">▶️</div>
                        <div>Video en pause</div>
                        <div style="font-size: 0.9rem; opacity: 0.7; margin-top: 0.5rem;">
                            Cliquez pour reprendre
                        </div>
                    </div>
                `;
                playPauseBtn.textContent = '▶️';
            }
        }

        // Simulation de la progression vidéo
        function simulateVideoProgress() {
            if (!isVideoPlaying) return;
            
            currentVideoTime += 1;
            if (currentVideoTime >= totalVideoTime) {
                currentVideoTime = totalVideoTime;
                isVideoPlaying = false;
                playPauseBtn.textContent = '▶️';
                videoPlayer.innerHTML = `
                    <div style="display: flex; align-items: center; justify-content: center; height: 100%; color: white; flex-direction: column;">
                        <div style="font-size: 3rem; color: #28a745;">✅</div>
                        <div style="margin-top: 1rem;">Vidéo terminée</div>
                        <div style="font-size: 0.9rem; opacity: 0.7; margin-top: 0.5rem;">
                            Module complété avec succès
                        </div>
                    </div>
                `;
                updateReadingProgress(50); // Video completed = 50% progress
                showToast('🎥 Vidéo terminée ! Continuez avec le contenu écrit.');
                return;
            }
            
            // Mise à jour de la barre de progression vidéo
            const videoProgress = (currentVideoTime / totalVideoTime) * 100;
            videoProgressFill.style.width = `${videoProgress}%`;
            
            // Mise à jour du temps affiché
            const currentMinutes = Math.floor(currentVideoTime / 60);
            const currentSeconds = currentVideoTime % 60;
            document.querySelector('.progress-time span:first-child').textContent = 
                `${String(currentMinutes).padStart(2, '0')}:${String(currentSeconds).padStart(2, '0')}`;
            
            setTimeout(simulateVideoProgress, 1000);
        }

        // Gestion de la barre de progression vidéo
        videoProgressBar.addEventListener('click', (e) => {
            const rect = videoProgressBar.getBoundingClientRect();
            const clickPosition = (e.clientX - rect.left) / rect.width;
            currentVideoTime = Math.floor(clickPosition * totalVideoTime);
            
            const videoProgress = (currentVideoTime / totalVideoTime) * 100;
            videoProgressFill.style.width = `${videoProgress}%`;
            
            const currentMinutes = Math.floor(currentVideoTime / 60);
            const currentSeconds = currentVideoTime % 60;
            document.querySelector('.progress-time span:first-child').textContent = 
                `${String(currentMinutes).padStart(2, '0')}:${String(currentSeconds).padStart(2, '0')}`;
        });

        // Contrôles vidéo
        document.querySelectorAll('.control-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const title = btn.getAttribute('title');
                
                switch(title) {
                    case 'Rembobiner':
                        currentVideoTime = Math.max(0, currentVideoTime - 10);
                        showToast('⏪ -10 secondes');
                        break;
                    case 'Avancer':
                        currentVideoTime = Math.min(totalVideoTime, currentVideoTime + 10);
                        showToast('⏩ +10 secondes');
                        break;
                    case 'Plein écran':
                        showToast('⛶ Mode plein écran activé');
                        break;
                    case 'Sous-titres':
                        showToast('📝 Sous-titres français activés');
                        break;
                }
                
                if (title !== 'Lecture/Pause') {
                    const videoProgress = (currentVideoTime / totalVideoTime) * 100;
                    videoProgressFill.style.width = `${videoProgress}%`;
                }
            });
        });

        // Gestion de la progression de lecture
        function updateReadingProgress(percentage) {
            document.querySelector('.reading-progress-bar').style.width = `${percentage}%`;
        }

        // Scroll tracking pour la progression
        let hasReadContent = false;
        window.addEventListener('scroll', () => {
            const scrollTop = window.pageYOffset;
            const docHeight = document.documentElement.scrollHeight - window.innerHeight;
            const scrollPercent = (scrollTop / docHeight) * 100;
            
            // Progression de lecture basée sur le scroll
            if (scrollPercent > 70 && !hasReadContent) {
                hasReadContent = true;
                updateReadingProgress(75); // Content read = 75% progress
                showToast('📖 Contenu lu ! Passez au quiz pour terminer.');
            }
        });

        // Gestion des téléchargements
        document.querySelectorAll('.download-item').forEach(item => {
            item.addEventListener('click', () => {
                const title = item.querySelector('.download-title').textContent;
                const meta = item.querySelector('.download-meta').textContent;
                
                // Animation de téléchargement
                item.style.transform = 'scale(0.95)';
                item.style.background = 'var(--light-blue)';
                
                setTimeout(() => {
                    item.style.transform = '';
                    item.style.background = '';
                    showToast(`📥 "${title}" téléchargé avec succès !`);
                }, 200);
                
                console.log(`Téléchargement simulé: ${title} (${meta})`);
            });
        });

        // Gestion du quiz
        startQuizBtn.addEventListener('click', () => {
            const quizModal = document.createElement('div');
            quizModal.className = 'completion-modal show';
            quizModal.innerHTML = `
                <div class="modal-content">
                    <div class="modal-icon">🎯</div>
                    <h2 class="modal-title">Démarrage du quiz</h2>
                    <p class="modal-description">
                        Vous allez commencer le quiz de validation du module. Vous avez 10 minutes pour répondre aux 15 questions.
                    </p>
                    <div style="margin: 2rem 0; padding: 1.5rem; background: var(--light-blue); border-radius: 15px;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 1rem;">
                            <strong>📝 15 questions</strong>
                            <strong>⏰ 10 minutes</strong>
                            <strong>🎯 80% requis</strong>
                        </div>
                        <div style="font-size: 0.9rem; color: var(--text-light);">
                            💡 Conseil : Prenez votre temps et relisez chaque question attentivement.
                        </div>
                    </div>
                    <div style="display: flex; gap: 1rem; justify-content: center;">
                        <button class="btn btn-primary" onclick="startQuiz()">🚀 Commencer</button>
                        <button class="btn btn-secondary" onclick="closeQuizModal()">❌ Annuler</button>
                    </div>
                </div>
            `;
            document.body.appendChild(quizModal);
        });

        window.startQuiz = function() {
            const quizModal = document.querySelector('.completion-modal');
            quizModal.remove();
            
            // Simulation du quiz
            let progress = 0;
            const quizTimer = setInterval(() => {
                progress += 10;
                updateReadingProgress(75 + (progress * 0.25)); // Quiz = 25% final progress
                
                if (progress >= 100) {
                    clearInterval(quizTimer);
                    setTimeout(() => {
                        completeModule();
                    }, 1000);
                } else {
                    showToast(`📝 Question ${Math.floor(progress/10) + 1}/15 - Bonne réponse !`);
                }
            }, 2000);
        };

        window.closeQuizModal = function() {
            document.querySelector('.completion-modal').remove();
        };

        // Complétion du module
        function completeModule() {
            moduleCompleted = true;
            updateReadingProgress(100);
            
            // Mettre à jour la sidebar
            const activeModule = document.querySelector('.module-item.active');
            activeModule.classList.remove('active');
            activeModule.classList.add('completed');
            activeModule.querySelector('.module-icon').textContent = '✅';
            activeModule.querySelector('.module-status').textContent = 'Terminé';
            activeModule.querySelector('.module-status').className = 'module-status completed';
            
            // Débloquer le module suivant
            const nextModule = document.querySelector('.module-item.locked');
            if (nextModule) {
                nextModule.classList.remove('locked');
                nextModule.querySelector('.module-icon').textContent = '▶️';
                nextModule.querySelector('.module-status').textContent = 'Disponible';
                nextModule.querySelector('.module-status').className = 'module-status';
            }
            
            // Mise à jour de la progression globale
            document.querySelector('.progress-percentage').textContent = '80%';
            document.querySelector('.progress-fill').style.width = '80%';
            
            // Afficher la modal de complétion
            completionModal.classList.add('show');
        }

        // Actions de la modal de complétion
        document.getElementById('nextModuleModalBtn').addEventListener('click', () => {
            completionModal.classList.remove('show');
            showToast('➡️ Passage au module suivant...');
            setTimeout(() => {
                window.location.href = 'lecteur-formation.html?course=communication&module=5';
            }, 1500);
        });

        document.getElementById('backToDashboardBtn').addEventListener('click', () => {
            window.location.href = 'dashboard-etudiant.html';
        });

        // Navigation entre modules
        document.querySelectorAll('.module-item').forEach(item => {
            item.addEventListener('click', () => {
                if (item.classList.contains('locked')) {
                    showToast('🔒 Module verrouillé. Terminez d\'abord le module actuel.');
                    return;
                }
                
                const title = item.querySelector('.module-title').textContent;
                const moduleNumber = Array.from(item.parentElement.children).indexOf(item) + 1;
                
                if (item.classList.contains('completed')) {
                    if (confirm(`🔄 Revoir le module :\n"${title}"\n\nVoulez-vous relancer ce module ?`)) {
                        showToast(`📚 Chargement du module "${title}"...`);
                        setTimeout(() => {
                            window.location.href = `lecteur-formation.html?course=communication&module=${moduleNumber}&mode=review`;
                        }, 1500);
                    }
                } else {
                    showToast(`📚 Chargement du module "${title}"...`);
                    setTimeout(() => {
                        window.location.href = `lecteur-formation.html?course=communication&module=${moduleNumber}`;
                    }, 1500);
                }
            });
        });

        // Navigation du footer
        nextModuleBtn.addEventListener('click', (e) => {
            e.preventDefault();
            if (!moduleCompleted) {
                showToast('⚠️ Terminez d\'abord ce module pour continuer.');
                return;
            }
            
            showToast('➡️ Passage au module suivant...');
            setTimeout(() => {
                window.location.href = 'lecteur-formation.html?course=communication&module=5';
            }, 1500);
        });

        // Actions de l'en-tête
        document.querySelectorAll('.header-actions .btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                const btnText = btn.textContent.trim();
                
                switch(true) {
                    case btnText.includes('Notes'):
                        showToast('📋 Bloc-notes ouvert (fonctionnalité à développer)');
                        break;
                    case btnText.includes('Marquer'):
                        showToast('🔖 Page marquée comme favorite');
                        btn.style.background = 'var(--light-blue)';
                        btn.style.color = 'var(--primary-blue)';
                        break;
                }
            });
        });

        // Navigation du centre
        document.querySelectorAll('.nav-center .btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const btnText = btn.textContent.trim();
                
                if (btnText.includes('Résumé')) {
                    alert('📋 Résumé du module\n\n🎯 Points clés :\n\n• Communication transparente avec les familles\n• Transmissions claires en équipe\n• Respect et bienveillance\n• Collaboration efficace\n• Gestion des situations délicates\n\n✅ Objectifs atteints avec succès !');
                } else if (btnText.includes('Favoris')) {
                    showToast('⭐ Module ajouté aux favoris');
                    btn.style.background = 'var(--light-blue)';
                }
            });
        });

        // Gestion du sidebar mobile
        sidebarToggle.addEventListener('click', () => {
            courseSidebar.classList.toggle('open');
        });

        // Fermer sidebar en cliquant en dehors
        document.addEventListener('click', (e) => {
            if (window.innerWidth <= 1024) {
                if (!courseSidebar.contains(e.target) && !sidebarToggle.contains(e.target)) {
                    courseSidebar.classList.remove('open');
                }
            }
        });

        // Fonction pour afficher les toasts
        function showToast(message, duration = 3000) {
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                top: 2rem;
                right: 2rem;
                background: var(--success);
                color: white;
                padding: 1rem 2rem;
                border-radius: 15px;
                z-index: 10000;
                box-shadow: 0 10px 30px rgba(40, 167, 69, 0.3);
                animation: slideInRight 0.3s ease;
                max-width: 300px;
                font-weight: 500;
            `;
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => {
                toast.style.animation = 'slideOutRight 0.3s ease forwards';
                setTimeout(() => toast.remove(), 300);
            }, duration);
        }

        // Animations au scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    if (entry.target.classList.contains('slide-in-left')) {
                        entry.target.style.animation = 'slideInLeft 0.6s ease forwards';
                    } else {
                        entry.target.style.animation = 'fadeInUp 0.6s ease forwards';
                    }
                }
            });
        }, observerOptions);

        document.querySelectorAll('.fade-in, .slide-in-left').forEach(el => {
            observer.observe(el);
        });

        // Raccourcis clavier
        document.addEventListener('keydown', (e) => {
            // Espace pour play/pause
            if (e.code === 'Space' && e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
                e.preventDefault();
                toggleVideo();
            }
            
            // Flèche gauche/droite pour navigation
            if (e.code === 'ArrowLeft' && e.ctrlKey) {
                e.preventDefault();
                currentVideoTime = Math.max(0, currentVideoTime - 10);
            }
            
            if (e.code === 'ArrowRight' && e.ctrlKey) {
                e.preventDefault();
                currentVideoTime = Math.min(totalVideoTime, currentVideoTime + 10);
            }
            
            // Échap pour fermer les modals
            if (e.code === 'Escape') {
                const modal = document.querySelector('.completion-modal.show');
                if (modal) {
                    modal.classList.remove('show');
                }
            }
        });

        // Sauvegarde automatique de la progression
        function autoSave() {
            const progressData = {
                module: 4,
                videoTime: currentVideoTime,
                readingProgress: hasReadContent,
                completed: moduleCompleted,
                timestamp: new Date().toISOString()
            };
            
            console.log('💾 Progression sauvegardée:', progressData);
            // Ici on sauvegarderait en localStorage ou base de données
        }

        setInterval(autoSave, 30000); // Sauvegarde toutes les 30 secondes

        // Détection d'inactivité
        let inactivityTimer;
        function resetInactivityTimer() {
            clearTimeout(inactivityTimer);
            inactivityTimer = setTimeout(() => {
                if (isVideoPlaying) {
                    showToast('⏸️ Vidéo mise en pause - inactivité détectée', 5000);
                    toggleVideo();
                }
            }, 10 * 60 * 1000); // 10 minutes
        }

        document.addEventListener('mousemove', resetInactivityTimer);
        document.addEventListener('keypress', resetInactivityTimer);
        document.addEventListener('scroll', resetInactivityTimer);

        // Gestion du mode hors ligne
        window.addEventListener('offline', () => {
            showToast('📱 Mode hors ligne - Contenu disponible en cache', 5000);
        });

        window.addEventListener('online', () => {
            showToast('🌐 Connexion rétablie - Synchronisation...');
            autoSave(); // Sync des données
        });

        // Styles CSS additionnels pour les animations
        const additionalStyles = document.createElement('style');
        additionalStyles.textContent = `
            @keyframes slideInRight {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            
            @keyframes slideOutRight {
                to { transform: translateX(100%); opacity: 0; }
            }
            
            .modal-content {
                animation: modalAppear 0.3s ease;
            }
            
            @keyframes modalAppear {
                from { transform: scale(0.8); opacity: 0; }
                to { transform: scale(1); opacity: 1; }
            }
        `;
        document.head.appendChild(additionalStyles);

        // Initialisation
        window.addEventListener('load', () => {
            resetInactivityTimer();
            
            // Message de bienvenue
            setTimeout(() => {
                showToast('📚 Module 4 chargé - Bonne formation !', 4000);
            }, 1000);
            
            // Mise à jour initiale de la progression
            updateReadingProgress(0);
            
            console.log('🎓 Lecteur de formation FormaPro+ initialisé');
            console.log('📖 Module: Communication avec les familles et l\'équipe');
            console.log('⏱️ Durée estimée: 18 minutes');
        });

        // Analytics de comportement utilisateur
        function trackUserBehavior(action, details = {}) {
            const analyticsData = {
                timestamp: new Date().toISOString(),
                module: 'communication-familles',
                action: action,
                details: details,
                userAgent: navigator.userAgent,
                viewport: `${window.innerWidth}x${window.innerHeight}`
            };
            
            console.log('📊 Analytics:', analyticsData);
            // Ici on enverrait les données à un service d'analytics
        }

        // Tracking des actions utilisateur
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('btn')) {
                trackUserBehavior('button_click', {
                    button: e.target.textContent.trim(),
                    section: e.target.closest('section')?.className || 'unknown'
                });
            }
        });

        // Performance monitoring
        if ('performance' in window) {
            window.addEventListener('load', () => {
                setTimeout(() => {
                    const loadTime = performance.now();
                    console.log(`⚡ Lecteur chargé en ${Math.round(loadTime)}ms`);
                    
                    trackUserBehavior('page_load', {
                        loadTime: Math.round(loadTime),
                        performance: loadTime < 2000 ? 'excellent' : loadTime < 4000 ? 'good' : 'slow'
                    });
                }, 0);
            });
        }
    </script>
</body>
</html>