<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title || 'Catalogue Formations | ADSIAM - Aide Ã  Domicile & EHPAD' %></title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-pink: #d4a5a5;
            --primary-blue: #a5c9d4;
            --light-pink: #f5e6e6;
            --light-blue: #e6f2f5;
            --soft-gray: #f8f9fa;
            --text-dark: #4a4a4a;
            --text-light: #8a8a8a;
            --white: #ffffff;
            --gradient-pink: linear-gradient(135deg, #f5e6e6, #d4a5a5);
            --gradient-blue: linear-gradient(135deg, #e6f2f5, #a5c9d4);
            --gradient-contact: linear-gradient(135deg, #d4a5a5, #a5c9d4);
            --gradient-purple: linear-gradient(135deg, #e8d5ff, #c7a3ff);
            --gradient-green: linear-gradient(135deg, #d4f5e6, #a5d4b5);
            --gradient-orange: linear-gradient(135deg, #ffe6d4, #ffb3a5);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.6;
            color: var(--text-dark);
            background: var(--soft-gray);
        }

        /* Top Bar */
        .top-bar {
            background: var(--gradient-contact);
            color: white;
            padding: 0.8rem 0;
            font-size: 0.9rem;
        }

        .top-bar-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .contact-info {
            display: flex;
            gap: 2rem;
        }

        .contact-info a {
            color: white;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-weight: 500;
        }

        .social-links {
            display: flex;
            gap: 1rem;
        }

        .social-links a {
            color: white;
            font-size: 1.2rem;
            text-decoration: none;
        }

        /* Header */
        header {
            background: var(--white);
            box-shadow: 0 2px 20px rgba(0,0,0,0.08);
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        nav {
            max-width: 1400px;
            margin: 0 auto;
            padding: 1.5rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            text-decoration: none;
            color: var(--text-dark);
        }

        .logo-icon {
            width: 50px;
            height: 50px;
            background: var(--gradient-contact);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            color: white;
            font-weight: 700;
            font-size: 1.3rem;
        }

        .logo-text {
            font-size: 1.8rem;
            font-weight: 300;
            letter-spacing: 0.1em;
        }

        .logo-text .forma {
            color: var(--primary-pink);
        }

        .logo-text .pro {
            color: var(--primary-blue);
            font-weight: 600;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 3rem;
            align-items: center;
        }

        .nav-links a {
            color: var(--text-light);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
            text-transform: uppercase;
            font-size: 0.9rem;
            letter-spacing: 0.05em;
        }

        .nav-links a:hover {
            color: var(--primary-blue);
        }

        .nav-links a.active {
            color: var(--primary-pink);
            font-weight: 600;
        }

        .nav-cta {
            background: var(--gradient-contact);
            color: white !important;
            padding: 1rem 2.5rem;
            border-radius: 50px;
            font-weight: 600;
            transition: all 0.3s;
            box-shadow: 0 10px 30px rgba(212, 165, 165, 0.3);
        }

        /* Breadcrumb */
        .breadcrumb {
            background: var(--white);
            padding: 1rem 0;
            border-bottom: 1px solid var(--soft-gray);
        }

        .breadcrumb-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .breadcrumb-nav {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
        }

        .breadcrumb-nav a {
            color: var(--text-light);
            text-decoration: none;
            transition: color 0.3s;
        }

        .breadcrumb-nav a:hover {
            color: var(--primary-blue);
        }

        .breadcrumb-separator {
            color: var(--text-light);
        }

        .breadcrumb-current {
            color: var(--primary-pink);
            font-weight: 500;
        }

        /* Hero Section */
        .hero {
            background: var(--gradient-pink);
            padding: 4rem 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -30%;
            right: -20%;
            width: 40%;
            height: 160%;
            background: var(--gradient-blue);
            border-radius: 50%;
            opacity: 0.3;
            transform: rotate(-15deg);
        }

        .hero-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 2rem;
            position: relative;
            z-index: 2;
        }

        .hero-badge {
            background: rgba(255, 255, 255, 0.9);
            color: var(--primary-pink);
            padding: 0.5rem 1.5rem;
            border-radius: 50px;
            display: inline-block;
            margin-bottom: 1.5rem;
            font-size: 0.9rem;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        .hero h1 {
            font-size: clamp(2.5rem, 5vw, 3.5rem);
            font-weight: 300;
            color: white;
            margin-bottom: 1.5rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .hero-highlight {
            font-weight: 700;
        }

        .hero p {
            font-size: 1.2rem;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 2rem;
            line-height: 1.7;
        }

        /* Search & Filters Section */
        .search-section {
            background: var(--white);
            margin: -3rem auto 0;
            max-width: 1200px;
            border-radius: 25px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
            padding: 2.5rem;
            position: relative;
            z-index: 10;
        }

        .search-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .search-title {
            font-size: 1.6rem;
            font-weight: 600;
            color: var(--text-dark);
            margin-bottom: 0.5rem;
        }

        .search-subtitle {
            color: var(--text-light);
        }

        .search-bar {
            position: relative;
            margin-bottom: 2rem;
        }

        .search-input {
            width: 100%;
            padding: 1.2rem 4rem 1.2rem 1.5rem;
            border: 2px solid var(--soft-gray);
            border-radius: 50px;
            font-size: 1.1rem;
            transition: all 0.3s;
            background: var(--soft-gray);
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary-blue);
            background: white;
            box-shadow: 0 10px 30px rgba(165, 201, 212, 0.2);
        }

        .search-icon {
            position: absolute;
            right: 1.5rem;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.3rem;
            color: var(--primary-blue);
            cursor: pointer;
        }

        .filters-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
        }

        .filter-label {
            font-weight: 600;
            margin-bottom: 0.8rem;
            color: var(--text-dark);
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .filter-select {
            padding: 1rem;
            border: 2px solid var(--soft-gray);
            border-radius: 15px;
            background: white;
            transition: all 0.3s;
            cursor: pointer;
            font-size: 0.95rem;
        }

        .filter-select:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 5px 15px rgba(165, 201, 212, 0.2);
        }

        .filter-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.8rem;
            margin-bottom: 2rem;
        }

        .filter-tag {
            background: var(--soft-gray);
            color: var(--text-dark);
            padding: 0.6rem 1.5rem;
            border-radius: 25px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .filter-tag:hover {
            background: var(--light-blue);
            color: var(--primary-blue);
        }

        .filter-tag.active {
            background: var(--gradient-blue);
            color: white;
            border-color: var(--primary-blue);
        }

        .filter-actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
        }

        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }

        .btn-primary {
            background: var(--gradient-contact);
            color: white;
            box-shadow: 0 10px 30px rgba(212, 165, 165, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 40px rgba(212, 165, 165, 0.4);
        }

        .btn-secondary {
            background: white;
            color: var(--text-dark);
            border: 2px solid var(--soft-gray);
        }

        .btn-secondary:hover {
            border-color: var(--primary-blue);
            color: var(--primary-blue);
        }

        /* Results Section */
        .results-section {
            max-width: 1400px;
            margin: 4rem auto;
            padding: 0 2rem;
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 3rem;
            padding: 2rem;
            background: var(--white);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        }

        .results-info {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .results-count {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-dark);
        }

        .results-badge {
            background: var(--gradient-green);
            color: white;
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .view-controls {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .sort-select {
            padding: 0.8rem 1.5rem;
            border: 2px solid var(--soft-gray);
            border-radius: 15px;
            background: white;
            cursor: pointer;
        }

        .view-toggle {
            display: flex;
            background: var(--soft-gray);
            border-radius: 15px;
            padding: 0.3rem;
        }

        .view-btn {
            padding: 0.6rem 1.2rem;
            border: none;
            background: transparent;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.2rem;
        }

        .view-btn.active {
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            color: var(--primary-blue);
        }

        /* Formations Grid */
        .formations-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 2.5rem;
            margin-bottom: 4rem;
        }

        .formation-card {
            background: var(--white);
            border-radius: 25px;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(0,0,0,0.05);
            box-shadow: 0 10px 40px rgba(0,0,0,0.08);
            cursor: pointer;
        }

        .formation-card:hover {
            transform: translateY(-15px) scale(1.02);
            box-shadow: 0 30px 80px rgba(0,0,0,0.15);
        }

        .formation-header {
            height: 180px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .formation-card:nth-child(odd) .formation-header {
            background: var(--gradient-pink);
        }

        .formation-card:nth-child(even) .formation-header {
            background: var(--gradient-blue);
        }

        .formation-card:nth-child(3n) .formation-header {
            background: var(--gradient-purple);
        }

        .formation-card:nth-child(4n) .formation-header {
            background: var(--gradient-green);
        }

        .formation-card:nth-child(5n) .formation-header {
            background: var(--gradient-orange);
        }

        .formation-icon {
            font-size: 3.5rem;
            color: white;
            z-index: 2;
        }

        .formation-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255, 255, 255, 0.9);
            color: var(--text-dark);
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            backdrop-filter: blur(10px);
        }

        .formation-header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, transparent 70%);
            animation: pulse 6s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1) rotate(0deg); opacity: 0.7; }
            50% { transform: scale(1.1) rotate(180deg); opacity: 1; }
        }

        .formation-content {
            padding: 2rem;
        }

        .formation-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 0.8rem;
            margin-bottom: 1.5rem;
        }

        .meta-tag {
            padding: 0.4rem 1rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .modules-tag {
            background: var(--light-blue);
            color: var(--primary-blue);
        }

        .level-tag {
            background: var(--light-pink);
            color: var(--primary-pink);
        }

        .duration-tag {
            background: var(--soft-gray);
            color: var(--text-light);
        }

        .formation-title {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 1rem;
            line-height: 1.3;
        }

        .formation-description {
            color: var(--text-light);
            line-height: 1.6;
            margin-bottom: 1.5rem;
            font-size: 0.95rem;
        }

        .formation-features {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0.8rem;
            margin-bottom: 2rem;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .feature-icon {
            color: var(--primary-blue);
            font-size: 1rem;
        }

        .formation-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 1.5rem;
            border-top: 1px solid var(--soft-gray);
        }

        .formation-price {
            display: flex;
            flex-direction: column;
        }

        .price-current {
            font-size: 1.5rem;
            font-weight: 800;
            color: var(--primary-pink);
        }

        .price-original {
            font-size: 0.9rem;
            color: var(--text-light);
            text-decoration: line-through;
        }

        .formation-btn {
            background: var(--gradient-contact);
            color: white;
            padding: 0.8rem 2rem;
            border: none;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            text-decoration: none;
        }

        .formation-btn:hover {
            transform: translateX(5px) scale(1.05);
            box-shadow: 0 10px 25px rgba(212, 165, 165, 0.3);
        }

        /* Pagination */
        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            margin: 4rem 0;
        }

        .pagination button {
            padding: 1rem 1.3rem;
            border: 2px solid var(--soft-gray);
            background: white;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            color: var(--text-dark);
        }

        .pagination button:hover {
            border-color: var(--primary-blue);
            color: var(--primary-blue);
            transform: translateY(-2px);
        }

        .pagination button.active {
            background: var(--gradient-contact);
            color: white;
            border-color: transparent;
        }

        .pagination button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Footer */
        footer {
            background: var(--text-dark);
            color: white;
            padding: 4rem 0 2rem;
            margin-top: 4rem;
        }

        .footer-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .footer-content {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 4rem;
            margin-bottom: 3rem;
        }

        .footer-brand .logo-text {
            font-size: 1.8rem;
            margin-bottom: 1.5rem;
        }

        .footer-description {
            opacity: 0.8;
            line-height: 1.8;
            margin-bottom: 2rem;
        }

        .footer-section h4 {
            font-weight: 600;
            margin-bottom: 1.5rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            font-size: 0.95rem;
        }

        .footer-links {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 0.8rem;
        }

        .footer-links a {
            color: rgba(255, 255, 255, 0.7);
            text-decoration: none;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .footer-links a:hover {
            color: var(--primary-blue);
            transform: translateX(5px);
            display: inline-block;
        }

        .footer-bottom {
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 2rem;
            text-align: center;
            opacity: 0.7;
        }

        /* Chat Widget */
        .chat-widget {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 1000;
        }

        .chat-button {
            width: 65px;
            height: 65px;
            background: var(--gradient-contact);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.8rem;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 15px 40px rgba(212, 165, 165, 0.4);
        }

        .chat-button:hover {
            transform: scale(1.1);
            box-shadow: 0 20px 50px rgba(212, 165, 165, 0.5);
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .formations-grid {
                grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            }
            
            .results-header {
                flex-direction: column;
                gap: 2rem;
            }
            
            .footer-content {
                grid-template-columns: 1fr 1fr;
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }
            
            .formations-grid {
                grid-template-columns: 1fr;
            }
            
            .filters-container {
                grid-template-columns: 1fr;
            }
            
            .filter-actions {
                flex-direction: column;
            }
            
            .results-header {
                padding: 1.5rem;
            }
            
            .view-controls {
                flex-direction: column;
                gap: 1rem;
            }
            
            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
            
            .hero {
                padding: 3rem 0;
            }
        }

        /* Animations */
        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 0.8s ease forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <!-- Top Bar -->
    <div class="top-bar">
        <div class="top-bar-content">
            <div class="contact-info">
                <a href="tel:0650848175">ð 06 50 84 81 75</a>
                <a href="mailto:contact@formapro-plus.org">âï¸ contact@formapro-plus.org</a>
            </div>
            <div class="social-links">
                <a href="#">ð</a>
                <a href="#">ð·</a>
                <a href="#">ð¼</a>
            </div>
        </div>
    </div>

    <!-- Header -->
    <header>
        <nav>
            <a href="/" class="logo">
                <div class="logo-icon">A+</div>
                <div class="logo-text">
                    <span class="forma">AD</span><span class="pro">SIAM</span>
                </div>
            </a>
            <ul class="nav-links">
                <li><a href="/formations" class="active">Formations</a></li>
                <li><a href="#financements">Financements</a></li>
                <li><a href="#evenements">ÃvÃ©nements</a></li>
                <li><a href="#blog">Blog</a></li>
                <% if (typeof user !== 'undefined' && user) { %>
                    <li><a href="/dashboard">Mon compte</a></li>
                    <li><a href="/auth/logout" class="nav-cta">DÃ©connexion</a></li>
                <% } else { %>
                    <li><a href="/connexion" class="nav-cta">Connexion</a></li>
                <% } %>
            </ul>
        </nav>
    </header>

    <!-- Breadcrumb -->
    <div class="breadcrumb">
        <div class="breadcrumb-container">
            <nav class="breadcrumb-nav">
                <a href="/">ð  Accueil</a>
                <span class="breadcrumb-separator">âº</span>
                <span class="breadcrumb-current">Catalogue des formations</span>
            </nav>
        </div>
    </div>

    <main>
        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-container">
                <div class="hero-badge">ð Catalogue Complet</div>
                <h1>Toutes nos <span class="hero-highlight">Formations</span></h1>
                <p>DÃ©couvrez notre catalogue complet de formations professionnelles pour l'aide Ã  domicile et les EHPAD. <%= typeof totalModules !== 'undefined' ? totalModules : 36 %> modules rÃ©partis en <%= typeof totalBlocs !== 'undefined' ? totalBlocs : 10 %> blocs thÃ©matiques pour dÃ©velopper toutes vos compÃ©tences.</p>
            </div>
        </section>

        <!-- Search & Filters Section -->
        <section class="search-section">
            <div class="search-header">
                <h2 class="search-title">Trouvez votre formation idÃ©ale</h2>
                <p class="search-subtitle">Utilisez les filtres ci-dessous pour affiner votre recherche</p>
            </div>

            <div class="search-bar">
                <input type="text" class="search-input" placeholder="Rechercher une formation (ex: communication, hygiÃ¨ne, premiers secours...)" id="searchInput">
                <span class="search-icon">ð</span>
            </div>

            <div class="filters-container">
                <div class="filter-group">
                    <label class="filter-label">Niveau</label>
                    <select class="filter-select" id="levelFilter">
                        <option value="">Tous les niveaux</option>
                        <option value="debutant">DÃ©butant</option>
                        <option value="intermediaire">IntermÃ©diaire</option>
                        <option value="avance">AvancÃ©</option>
                        <option value="expert">Expert</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label class="filter-label">DurÃ©e</label>
                    <select class="filter-select" id="durationFilter">
                        <option value="">Toutes les durÃ©es</option>
                        <option value="courte">1-3 modules</option>
                        <option value="moyenne">4-6 modules</option>
                        <option value="longue">7+ modules</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label class="filter-label">Prix</label>
                    <select class="filter-select" id="priceFilter">
                        <option value="">Tous les prix</option>
                        <option value="gratuit">Gratuit</option>
                        <option value="payant">Payant</option>
                        <option value="moins50">Moins de 50â¬</option>
                        <option value="50-100">50â¬ - 100â¬</option>
                    </select>
                </div>

                <div class="filter-group">
                    <label class="filter-label">Domaine</label>
                    <select class="filter-select" id="domainFilter">
                        <option value="">Tous les domaines</option>
                        <% if (typeof domaines !== 'undefined' && domaines) { %>
                            <% domaines.forEach(domaine => { %>
                                <option value="<%= domaine.slug %>"><%= domaine.nom %></option>
                            <% }); %>
                        <% } else { %>
                            <option value="communication">Communication</option>
                            <option value="hygiene">HygiÃ¨ne & SÃ©curitÃ©</option>
                            <option value="ergonomie">Ergonomie</option>
                            <option value="urgences">Urgences</option>
                            <option value="nutrition">Nutrition</option>
                            <option value="pathologies">Pathologies</option>
                        <% } %>
                    </select>
                </div>
            </div>

            <div class="filter-tags">
                <button class="filter-tag active" data-filter="all">ð Toutes</button>
                <button class="filter-tag" data-filter="gratuit">ð Gratuites</button>
                <button class="filter-tag" data-filter="populaires">â­ Populaires</button>
                <button class="filter-tag" data-filter="nouveautes">ð NouveautÃ©s</button>
                <button class="filter-tag" data-filter="certifiantes">ð Certifiantes</button>
            </div>

            <div class="filter-actions">
                <button class="btn btn-primary" id="applyFilters">Appliquer les filtres</button>
                <button class="btn btn-secondary" id="resetFilters">RÃ©initialiser</button>
            </div>
        </section>

        <!-- Results Section -->
        <section class="results-section">
            <div class="results-header">
                <div class="results-info">
                    <span class="results-count" id="resultsCount"><%= typeof formations !== 'undefined' ? formations.length : 36 %> formations trouvÃ©es</span>
                    <span class="results-badge">Toutes disponibles</span>
                </div>
                <div class="view-controls">
                    <select class="sort-select" id="sortSelect">
                        <option value="popularite">Trier par popularitÃ©</option>
                        <option value="prix-croissant">Prix croissant</option>
                        <option value="prix-decroissant">Prix dÃ©croissant</option>
                        <option value="niveau">Niveau</option>
                        <option value="duree">DurÃ©e</option>
                    </select>
                    <div class="view-toggle">
                        <button class="view-btn active" data-view="grid">â</button>
                        <button class="view-btn" data-view="list">â°</button>
                    </div>
                </div>
            </div>

            <!-- Formations Grid -->
            <div class="formations-grid" id="formationsGrid">
                <% 
                // DÃ©finir les formations par dÃ©faut si elles ne sont pas fournies
                let formationsData = [];
                if (typeof formations !== 'undefined' && formations) {
                    formationsData = formations;
                } else {
                    // Formations par dÃ©faut pour la dÃ©mo
                    formationsData = [
                        {
                            id: 1,
                            titre: 'Communication & Relationnel',
                            description: 'MaÃ®trisez l\'art de la communication bienveillante, la gestion des Ã©motions et des situations difficiles avec les rÃ©sidents et les familles.',
                            niveau: 'DÃ©butant',
                            modules_count: 5,
                            duree: '3h',
                            prix: 0,
                            icon: 'ð£ï¸',
                            badge: 'Essentiel',
                            competences: ['Ãcoute active', 'Gestion conflits', 'Respect dignitÃ©', 'VidÃ©os pratiques'],
                            domaine: 'communication',
                            populaire: true,
                            certifiante: false
                        },
                        {
                            id: 2,
                            titre: 'HygiÃ¨ne, SÃ©curitÃ© & PrÃ©vention',
                            description: 'Protocoles d\'hygiÃ¨ne professionnelle, sÃ©curitÃ© avec les produits mÃ©nagers, prÃ©vention des risques domestiques et des infections.',
                            niveau: 'IntermÃ©diaire',
                            modules_count: 4,
                            duree: '4h',
                            prix: 49,
                            prix_original: 79,
                            icon: 'ð¡ï¸',
                            badge: 'AvancÃ©',
                            competences: ['Protocoles hygiÃ¨ne', 'SÃ©curitÃ© produits', 'PrÃ©vention chutes', 'Anti-infections'],
                            domaine: 'hygiene',
                            populaire: true,
                            certifiante: true
                        },
                        {
                            id: 3,
                            titre: 'Ergonomie & Gestes Professionnels',
                            description: 'Techniques de manutention, prÃ©vention des TMS, utilisation du matÃ©riel mÃ©dical et accompagnement sÃ©curisÃ© des transferts.',
                            niveau: 'AvancÃ©',
                            modules_count: 3,
                            duree: '5h',
                            prix: 79,
                            icon: 'ð¥',
                            badge: 'Expert',
                            competences: ['Bonnes postures', 'Transferts sÃ©curisÃ©s', 'MatÃ©riel mÃ©dical', 'PrÃ©vention TMS'],
                            domaine: 'ergonomie',
                            populaire: false,
                            certifiante: true
                        },
                        {
                            id: 4,
                            titre: 'Gestion des Urgences & Premiers Secours',
                            description: 'Formation complÃ¨te aux gestes qui sauvent : RCP, dÃ©fibrillateur, position latÃ©rale de sÃ©curitÃ©, gestion des blessures.',
                            niveau: 'Essentiel',
                            modules_count: 5,
                            duree: '6h',
                            prix: 99,
                            icon: 'ð¨',
                            badge: 'Critique',
                            competences: ['RCP & DÃ©fibrillateur', 'Position PLS', 'Gestion blessures', 'Situations critiques'],
                            domaine: 'urgences',
                            populaire: true,
                            certifiante: true
                        },
                        {
                            id: 5,
                            titre: 'PrÃ©paration des Repas & Alimentation',
                            description: 'HygiÃ¨ne alimentaire, repas Ã©quilibrÃ©s adaptÃ©s, gestion des textures pour Ã©viter les fausses routes.',
                            niveau: 'IntermÃ©diaire',
                            modules_count: 4,
                            duree: '4h',
                            prix: 59,
                            icon: 'ð½ï¸',
                            badge: 'Pratique',
                            competences: ['HygiÃ¨ne alimentaire', 'Repas Ã©quilibrÃ©s', 'Textures adaptÃ©es', 'Hydratation'],
                            domaine: 'nutrition',
                            populaire: false,
                            certifiante: false
                        },
                        {
                            id: 6,
                            titre: 'Pathologies & Situations SpÃ©cifiques',
                            description: 'Accompagnement des troubles cognitifs, Alzheimer, maladies chroniques, perte de mobilitÃ© et fin de vie.',
                            niveau: 'Expert',
                            modules_count: 4,
                            duree: '5h',
                            prix: 89,
                            icon: 'ð§ ',
                            badge: 'SpÃ©cialisÃ©',
                            competences: ['Troubles cognitifs', 'Maladies chroniques', 'Perte mobilitÃ©', 'Fin de vie'],
                            domaine: 'pathologies',
                            populaire: false,
                            certifiante: true,
                            nouveau: true
                        },
                        {
                            id: 7,
                            titre: 'Bonnes Pratiques & DÃ©ontologie',
                            description: 'Limites professionnelles, confidentialitÃ©, bonnes pratiques quotidiennes et gestion des situations dÃ©licates.',
                            niveau: 'IntermÃ©diaire',
                            modules_count: 3,
                            duree: '3h',
                            prix: 45,
                            icon: 'âï¸',
                            badge: 'Professionnel',
                            competences: ['Limites pro', 'ConfidentialitÃ©', 'Bonnes pratiques', 'Situations dÃ©licates'],
                            domaine: 'communication',
                            populaire: false,
                            certifiante: false
                        },
                        {
                            id: 8,
                            titre: 'Professionnalisation & Bien-Ãªtre',
                            description: 'Gestion du stress, prÃ©vention de l\'Ã©puisement, organisation du temps et formation continue.',
                            niveau: 'AvancÃ©',
                            modules_count: 3,
                            duree: '3h',
                            prix: 39,
                            icon: 'ðª',
                            badge: 'Bien-Ãªtre',
                            competences: ['Gestion stress', 'Anti-Ã©puisement', 'Organisation temps', 'Formation continue'],
                            domaine: 'communication',
                            populaire: false,
                            certifiante: false,
                            nouveau: true
                        },
                        {
                            id: 9,
                            titre: 'Outils NumÃ©riques & Communication',
                            description: 'Cahiers de liaison numÃ©riques, applications professionnelles, outils vidÃ©o et maintien du lien avec les familles.',
                            niveau: 'DÃ©butant',
                            modules_count: 3,
                            duree: '2h',
                            prix: 35,
                            icon: 'ð±',
                            badge: 'Digital',
                            competences: ['Cahiers numÃ©riques', 'Apps professionnelles', 'Outils vidÃ©o', 'Lien famille'],
                            domaine: 'communication',
                            populaire: false,
                            certifiante: false,
                            nouveau: true
                        }
                    ];
                }

                // Fonction pour dÃ©terminer la durÃ©e catÃ©gorisÃ©e
                function getDureeCategorie(modules) {
                    if (modules <= 3) return 'courte';
                    if (modules <= 6) return 'moyenne';
                    return 'longue';
                }

                // Fonction pour dÃ©terminer la catÃ©gorie de prix
                function getPrixCategorie(prix) {
                    if (prix === 0) return 'gratuit';
                    if (prix < 50) return 'moins50';
                    if (prix <= 100) return '50-100';
                    return 'payant';
                }
                %>

                <% formationsData.forEach((formation, index) => { %>
                    <div class="formation-card fade-in" 
                         data-level="<%= formation.niveau.toLowerCase().replace('Ã©', 'e') %>" 
                         data-duration="<%= getDureeCategorie(formation.modules_count) %>" 
                         data-price="<%= getPrixCategorie(formation.prix) %>" 
                         data-domain="<%= formation.domaine %>"
                         data-popular="<%= formation.populaire ? 'true' : 'false' %>"
                         data-new="<%= formation.nouveau ? 'true' : 'false' %>"
                         data-certifying="<%= formation.certifiante ? 'true' : 'false' %>"
                         data-formation-id="<%= formation.id %>">
                        <div class="formation-header">
                            <div class="formation-icon"><%= formation.icon %></div>
                            <div class="formation-badge"><%= formation.badge %></div>
                        </div>
                        <div class="formation-content">
                            <div class="formation-meta">
                                <span class="meta-tag modules-tag"><%= formation.modules_count %> modules</span>
                                <span class="meta-tag level-tag"><%= formation.niveau %></span>
                                <span class="meta-tag duration-tag"><%= formation.duree %></span>
                            </div>
                            <h3 class="formation-title"><%= formation.titre %></h3>
                            <p class="formation-description"><%= formation.description %></p>
                            <div class="formation-features">
                                <% formation.competences.forEach(competence => { %>
                                    <div class="feature-item">
                                        <span class="feature-icon">â</span>
                                        <span><%= competence %></span>
                                    </div>
                                <% }); %>
                            </div>
                            <div class="formation-footer">
                                <div class="formation-price">
                                    <span class="price-current"><%= formation.prix === 0 ? 'Gratuit' : formation.prix + 'â¬' %></span>
                                    <% if (formation.prix_original) { %>
                                        <span class="price-original"><%= formation.prix_original %>â¬</span>
                                    <% } %>
                                </div>
                                <% if (typeof user !== 'undefined' && user) { %>
                                    <a href="/dashboard/formation/<%= formation.id %>" class="formation-btn">Commencer</a>
                                <% } else { %>
                                    <button class="formation-btn" onclick="redirectToLogin(<%= formation.id %>)">Commencer</button>
                                <% } %>
                            </div>
                        </div>
                    </div>
                <% }); %>
            </div>

            <!-- Pagination -->
            <div class="pagination" id="pagination">
                <button disabled id="prevBtn">â¹ PrÃ©cÃ©dent</button>
                <button class="active" data-page="1">1</button>
                <button data-page="2">2</button>
                <button data-page="3">3</button>
                <button data-page="4">4</button>
                <button id="nextBtn">Suivant âº</button>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="footer-container">
            <div class="footer-content">
                <div class="footer-brand">
                    <div class="logo-text">
                        <span class="forma">FORMA</span><span class="pro">PRO+</span>
                    </div>
                    <p class="footer-description">ADSIAM est la plateforme de formation de rÃ©fÃ©rence pour les professionnels de l'aide Ã  domicile et des EHPAD. Nous proposons des formations complÃ¨tes, interactives et adaptÃ©es aux rÃ©alitÃ©s du terrain.</p>
                </div>
                <div class="footer-section">
                    <h4>Nos Formations</h4>
                    <ul class="footer-links">
                        <li><a href="/formations?domaine=communication">Communication & Relationnel</a></li>
                        <li><a href="/formations?domaine=hygiene">HygiÃ¨ne & SÃ©curitÃ©</a></li>
                        <li><a href="/formations?domaine=ergonomie">Ergonomie & Gestes</a></li>
                        <li><a href="/formations?domaine=urgences">Premiers Secours</a></li>
                        <li><a href="/formations?domaine=nutrition">Nutrition & Repas</a></li>
                        <li><a href="/formations?domaine=pathologies">Pathologies SpÃ©cifiques</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Services</h4>
                    <ul class="footer-links">
                        <li><a href="/formations">Formations en ligne</a></li>
                        <li><a href="/certifications">Certifications</a></li>
                        <li><a href="/support">Support 24/7</a></li>
                        <li><a href="/suivi">Suivi personnalisÃ©</a></li>
                        <li><a href="/communaute">CommunautÃ©</a></li>
                        <li><a href="/ressources">Ressources PDF</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Support</h4>
                    <ul class="footer-links">
                        <li><a href="/aide">Centre d'aide</a></li>
                        <li><a href="/contact">Contact</a></li>
                        <li><a href="/faq">FAQ</a></li>
                        <li><a href="/tutoriels">Tutoriels</a></li>
                        <li><a href="/mentions-legales">Mentions lÃ©gales</a></li>
                        <li><a href="/confidentialite">Politique confidentialitÃ©</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 ADSIAM. Tous droits rÃ©servÃ©s. | Formation professionnelle pour aide Ã  domicile et EHPAD</p>
            </div>
        </div>
    </footer>

    <!-- Chat Widget -->
    <div class="chat-widget">
        <div class="chat-button" title="Besoin d'aide pour choisir ?">ð¬</div>
    </div>

    <script>
        // Variables globales
        let allFormations = [];
        let filteredFormations = [];
        let currentPage = 1;
        const formationsPerPage = 9;

        // Redirection vers login pour les non-connectÃ©s
        function redirectToLogin(formationId) {
            sessionStorage.setItem('redirectAfterLogin', `/formations/${formationId}`);
            window.location.href = '/connexion';
        }

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            // RÃ©cupÃ©rer toutes les formations
            allFormations = Array.from(document.querySelectorAll('.formation-card'));
            filteredFormations = [...allFormations];
            
            initializeFilters();
            initializeSearch();
            initializeSorting();
            initializePagination();
            initializeAnimations();
            
            console.log(`ð Catalogue FormaPro+ chargÃ© - ${allFormations.length} formations disponibles`);
        });

        // Initialiser les filtres
        function initializeFilters() {
            const filterTags = document.querySelectorAll('.filter-tag');
            const levelFilter = document.getElementById('levelFilter');
            const durationFilter = document.getElementById('durationFilter');
            const priceFilter = document.getElementById('priceFilter');
            const domainFilter = document.getElementById('domainFilter');
            const applyBtn = document.getElementById('applyFilters');
            const resetBtn = document.getElementById('resetFilters');

            // Gestion des tags de filtre
            filterTags.forEach(tag => {
                tag.addEventListener('click', function() {
                    filterTags.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    const filterType = this.dataset.filter;
                    applyTagFilter(filterType);
                });
            });

            // Bouton appliquer filtres
            applyBtn.addEventListener('click', applyAllFilters);
            
            // Bouton rÃ©initialiser
            resetBtn.addEventListener('click', resetAllFilters);
        }

        // Appliquer un filtre par tag
        function applyTagFilter(filterType) {
            filteredFormations = allFormations.filter(formation => {
                switch(filterType) {
                    case 'all':
                        return true;
                    case 'gratuit':
                        return formation.dataset.price === 'gratuit';
                    case 'populaires':
                        return formation.dataset.popular === 'true';
                    case 'nouveautes':
                        return formation.dataset.new === 'true';
                    case 'certifiantes':
                        return formation.dataset.certifying === 'true';
                    default:
                        return true;
                }
            });
            
            updateDisplay();
        }

        // Appliquer tous les filtres
        function applyAllFilters() {
            const levelValue = document.getElementById('levelFilter').value;
            const durationValue = document.getElementById('durationFilter').value;
            const priceValue = document.getElementById('priceFilter').value;
            const domainValue = document.getElementById('domainFilter').value;
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();

            filteredFormations = allFormations.filter(formation => {
                // Filtre par niveau
                if (levelValue && formation.dataset.level !== levelValue) return false;
                
                // Filtre par durÃ©e
                if (durationValue && formation.dataset.duration !== durationValue) return false;
                
                // Filtre par prix
                if (priceValue && formation.dataset.price !== priceValue) return false;
                
                // Filtre par domaine
                if (domainValue && formation.dataset.domain !== domainValue) return false;
                
                // Filtre par recherche textuelle
                if (searchTerm) {
                    const title = formation.querySelector('.formation-title').textContent.toLowerCase();
                    const description = formation.querySelector('.formation-description').textContent.toLowerCase();
                    if (!title.includes(searchTerm) && !description.includes(searchTerm)) return false;
                }
                
                return true;
            });
            
            updateDisplay();
        }

        // RÃ©initialiser tous les filtres
        function resetAllFilters() {
            document.getElementById('levelFilter').value = '';
            document.getElementById('durationFilter').value = '';
            document.getElementById('priceFilter').value = '';
            document.getElementById('domainFilter').value = '';
            document.getElementById('searchInput').value = '';
            
            document.querySelectorAll('.filter-tag').forEach(tag => tag.classList.remove('active'));
            document.querySelector('.filter-tag[data-filter="all"]').classList.add('active');
            
            filteredFormations = [...allFormations];
            updateDisplay();
        }

        // Initialiser la recherche
        function initializeSearch() {
            const searchInput = document.getElementById('searchInput');
            let searchTimeout;
            
            searchInput.addEventListener('input', function() {
                clearTimeout(searchTimeout);
                searchTimeout = setTimeout(() => {
                    applyAllFilters();
                }, 300);
            });
        }

        // Initialiser le tri
        function initializeSorting() {
            const sortSelect = document.getElementById('sortSelect');
            
            sortSelect.addEventListener('change', function() {
                sortFormations(this.value);
            });
        }

        // Trier les formations
        function sortFormations(sortType) {
            filteredFormations.sort((a, b) => {
                switch(sortType) {
                    case 'prix-croissant':
                        return getPriceValue(a) - getPriceValue(b);
                    case 'prix-decroissant':
                        return getPriceValue(b) - getPriceValue(a);
                    case 'niveau':
                        const niveaux = { 'debutant': 1, 'intermediaire': 2, 'avance': 3, 'expert': 4 };
                        return niveaux[a.dataset.level] - niveaux[b.dataset.level];
                    case 'duree':
                        const durees = { 'courte': 1, 'moyenne': 2, 'longue': 3 };
                        return durees[a.dataset.duration] - durees[b.dataset.duration];
                    default: // popularitÃ©
                        return b.dataset.popular === 'true' ? 1 : -1;
                }
            });
            
            updateDisplay();
        }

        // Obtenir la valeur numÃ©rique du prix
        function getPriceValue(formation) {
            const priceText = formation.querySelector('.price-current').textContent;
            if (priceText === 'Gratuit') return 0;
            return parseInt(priceText.replace('â¬', '')) || 0;
        }

        // Initialiser la pagination
        function initializePagination() {
            const paginationBtns = document.querySelectorAll('.pagination button[data-page]');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            paginationBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const page = parseInt(this.dataset.page);
                    goToPage(page);
                });
            });
            
            prevBtn.addEventListener('click', () => {
                if (currentPage > 1) goToPage(currentPage - 1);
            });
            
            nextBtn.addEventListener('click', () => {
                const totalPages = Math.ceil(filteredFormations.length / formationsPerPage);
                if (currentPage < totalPages) goToPage(currentPage + 1);
            });
        }

        // Aller Ã  une page spÃ©cifique
        function goToPage(page) {
            currentPage = page;
            updateDisplay();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Mettre Ã  jour l'affichage
        function updateDisplay() {
            const grid = document.getElementById('formationsGrid');
            const resultsCount = document.getElementById('resultsCount');
            
            // Masquer toutes les formations
            allFormations.forEach(formation => {
                formation.style.display = 'none';
            });
            
            // Calculer les formations Ã  afficher pour la page courante
            const startIndex = (currentPage - 1) * formationsPerPage;
            const endIndex = startIndex + formationsPerPage;
            const formationsToShow = filteredFormations.slice(startIndex, endIndex);
            
            // Afficher les formations de la page courante
            formationsToShow.forEach((formation, index) => {
                formation.style.display = 'block';
                formation.style.animation = `fadeInUp 0.6s ease forwards`;
                formation.style.animationDelay = `${index * 0.1}s`;
            });
            
            // Mettre Ã  jour le compteur
            resultsCount.textContent = `${filteredFormations.length} formation${filteredFormations.length > 1 ? 's' : ''} trouvÃ©e${filteredFormations.length > 1 ? 's' : ''}`;
            
            // Mettre Ã  jour la pagination
            updatePagination();
        }

        // Mettre Ã  jour la pagination
        function updatePagination() {
            const totalPages = Math.ceil(filteredFormations.length / formationsPerPage);
            const paginationBtns = document.querySelectorAll('.pagination button[data-page]');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            
            // Mettre Ã  jour les boutons de page
            paginationBtns.forEach(btn => {
                btn.classList.remove('active');
                const page = parseInt(btn.dataset.page);
                if (page === currentPage) btn.classList.add('active');
                btn.style.display = page <= totalPages ? 'block' : 'none';
            });
            
            // Mettre Ã  jour les boutons prev/next
            prevBtn.disabled = currentPage === 1;
            nextBtn.disabled = currentPage === totalPages || totalPages === 0;
        }

        // Initialiser les animations
        function initializeAnimations() {
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animation = 'fadeInUp 0.8s ease forwards';
                    }
                });
            }, observerOptions);

            document.querySelectorAll('.fade-in').forEach(el => {
                observer.observe(el);
            });
        }

        // Gestion des cartes de formation
        document.querySelectorAll('.formation-card').forEach(card => {
            card.addEventListener('click', function(e) {
                // Ne pas rediriger si on clique sur un bouton
                if (!e.target.classList.contains('formation-btn') && !e.target.closest('.formation-btn')) {
                    const formationId = this.dataset.formationId;
                    window.location.href = `/formations/${formationId}`;
                }
            });
        });

        // Gestion des boutons de formation
        document.querySelectorAll('.formation-btn').forEach(btn => {
            btn.addEventListener('click', function(e) {
                e.stopPropagation(); // EmpÃªcher la propagation vers la carte
                
                const card = e.target.closest('.formation-card');
                const formationId = card.dataset.formationId;
                const title = card.querySelector('.formation-title').textContent;
                const price = card.querySelector('.price-current').textContent;
                
                <% if (typeof user !== 'undefined' && user) { %>
                    // Utilisateur connectÃ© - aller directement Ã  la formation
                    window.location.href = `/dashboard/formation/${formationId}`;
                <% } else { %>
                    // Utilisateur non connectÃ© - proposer de se connecter
                    if (confirm(`Formation: ${title}\nPrix: ${price}\n\nVoulez-vous vous connecter pour commencer cette formation ?`)) {
                        sessionStorage.setItem('redirectAfterLogin', `/formations/${formationId}`);
                        window.location.href = '/connexion';
                    }
                <% } %>
            });
        });

        // Chat widget
        document.querySelector('.chat-button').addEventListener('click', function() {
            alert('ð¬ Aide personnalisÃ©e\n\nð¯ Besoin d\'aide pour choisir votre formation ?\n\nð¨âð Nos conseillers pÃ©dagogiques vous accompagnent :\n\nâ Analyse de vos besoins\nâ Recommandations personnalisÃ©es\nâ Information sur les financements\nâ Support technique\n\nContactez-nous maintenant !');
        });

        // Gestion de la vue (grille/liste)
        document.querySelectorAll('.view-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                document.querySelectorAll('.view-btn').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                
                const viewType = this.dataset.view;
                if (viewType === 'list') {
                    alert('Vue liste - FonctionnalitÃ© Ã  dÃ©velopper');
                }
            });
        });

        // Smooth scroll pour les liens
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            });
        });

        // Analytics et tracking
        function trackFormationView(formationId, formationTitle) {
            console.log(`ð Formation consultÃ©e: ${formationTitle} (ID: ${formationId})`);
            // Ici vous pourriez envoyer les donnÃ©es Ã  votre service d'analytics
        }

        function trackFilterUsage(filterType, filterValue) {
            console.log(`ð Filtre utilisÃ©: ${filterType} = ${filterValue}`);
        }

        // Gestion des erreurs
        window.addEventListener('error', function(e) {
            console.error('Erreur dÃ©tectÃ©e:', e.error);
        });

        // Performance monitoring
        if ('performance' in window) {
            window.addEventListener('load', () => {
                setTimeout(() => {
                    const loadTime = performance.now();
                    console.log(`â¡ Catalogue chargÃ© en ${Math.round(loadTime)}ms`);
                }, 0);
            });
        }

        // Gestion du mode hors ligne
        window.addEventListener('offline', () => {
            console.log('ð± Mode hors ligne dÃ©tectÃ©');
            // Vous pourriez afficher un message Ã  l'utilisateur
        });

        window.addEventListener('online', () => {
            console.log('ð Connexion rÃ©tablie');
        });

        // Export des fonctions pour usage externe
        window.FormaCatalog = {
            applyFilter: applyAllFilters,
            resetFilters: resetAllFilters,
            goToPage: goToPage,
            sortFormations: sortFormations
        };
    </script>
</body>
</html>